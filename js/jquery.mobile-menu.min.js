!function(a){a.fn.mobileMenu=function(b){var c={MenuWidth:250,SlideSpeed:300,WindowsMaxWidth:767,PagePush:!0,FromLeft:!0,Overlay:!0,CollapseMenu:!0,ClassName:"mobile-menu"};return this.each(function(){function y(){1==k.FromLeft?i.css("left",-k.MenuWidth):i.css("right",-k.MenuWidth),i.find("ul:first").addClass(k.ClassName),s=k.ClassName,i.css("width",k.MenuWidth),i.find("."+s+" ul").css("display","none");var d='<span class="expand fa fa-plus"></span>';i.find("li ul").parent().prepend(d),a("."+s).append('<li style="height: 2px;"></li>'),a("."+s+" li:has(span)").each(function(){a(this).find("a:first").css("padding-right",55)})}function e(){var d=0,f=a(document).height();return i.find("."+s+" > li").each(function(){var g=a(this).height();d+=g}),f>=d&&(d=f),d}function w(d){j=a("."+s+" span.expand").height(),1===d&&i.find("."+s+" > li:has(span)").each(function(){var f=a(this).height(),g=(f-j)/2;a(this).find("span").css({"padding-bottom":g,"padding-top":g})}),2===d&&i.find("."+s+" > li > ul > li:has(span)").each(function(){var f=a(this).height(),g=(f-j)/2;a(this).find("span").css({"padding-bottom":g,"padding-top":g})})}function D(){E.addClass("mmPushBody"),1==k.Overlay?v.addClass("overlay"):v.addClass("overlay").css("opacity",0),i.css({display:"block",overflow:"hidden"}),1==k.FromLeft?(1==k.PagePush&&A.animate({left:k.MenuWidth},k.SlideSpeed,"linear"),i.animate({left:"0"},k.SlideSpeed,"linear",function(){i.css("height",e()),B=!0})):(1==k.PagePush&&A.animate({left:-k.MenuWidth},k.SlideSpeed,"linear"),i.animate({right:"0"},k.SlideSpeed,"linear",function(){i.css("height",e()),B=!0})),x||(w(1),x=!0)}function z(){1==k.FromLeft?(1==k.PagePush&&A.animate({left:"0"},k.SlideSpeed,"linear"),i.animate({left:-k.MenuWidth},k.SlideSpeed,"linear",function(){E.removeClass("mmPushBody"),v.css("height",0).removeClass("overlay"),i.css("display","none"),B=!1})):(1==k.PagePush&&A.animate({left:"0"},k.SlideSpeed,"linear"),i.animate({right:-k.MenuWidth},k.SlideSpeed,"linear",function(){E.removeClass("mmPushBody"),v.css("height",0).removeClass("overlay"),i.css("display","none"),B=!1}))}var k=a.extend({},c,b),i=a(this),v=a("#overlay"),E=a("body"),A=a("#page"),B=!1,x=!1,q=!1,j=0,s="";y(),a(".mm-toggle").click(function(){i.css("height",a(document).height()),1==k.Overlay&&v.css("height",a(document).height()),B?z():D()}),a(window).resize(function(){a(window).width()>=k.WindowsMaxWidth&&B&&i.css("left")!=-k.MenuWidth&&z()}),a("."+s+" > li > span.expand").click(function(){if(1==k.CollapseMenu){var d=a("."+s+" li span");d.hasClass("open")&&"none"===a(this).next().next().css("display")&&(a("."+s+" li ul").slideUp(),d.hasClass("open")?d.removeClass("fa fa-minus").addClass("fa fa-plus"):d.removeClass("fa fa-plus").addClass("fa fa-minus"),d.removeClass("open"))}a(this).nextAll("."+s+" ul").slideToggle(function(){1==k.CollapseMenu?a(this).promise().done(function(){i.css("height",e())}):i.css("height",e())}),a(this).hasClass("fa fa-plus")?a(this).removeClass("fa fa-plus").addClass("fa fa-minus"):a(this).removeClass("fa fa-minus").addClass("fa fa-plus"),a(this).toggleClass("open"),q||(w(2),q=!0)}),a("."+s+" > li > ul > li > span.expand").click(function(){if(1==k.CollapseMenu){var d=a("."+s+" li ul li span");d.hasClass("open")&&"none"===a(this).next().next().css("display")&&(a("."+s+" li ul ul").slideUp(),d.hasClass("open")?d.removeClass("fa fa-minus").addClass("fa fa-plus"):d.removeClass("fa fa-plus").addClass("fa fa-minus"),d.removeClass("open"))}a(this).nextAll("."+s+" ul ul").slideToggle(function(){1==k.CollapseMenu?a(this).promise().done(function(){i.css("height",e())}):i.css("height",e())}),a(this).hasClass("fa fa-plus")?a(this).removeClass("fa fa-plus").addClass("fa fa-minus"):a(this).removeClass("fa fa-minus").addClass("fa fa-plus"),a(this).toggleClass("open")}),a("."+s+" li a").click(function(){a("."+s+" li a").removeClass("active"),a(this).addClass("active"),z()}),v.click(function(){z()}),a("."+s+" li a.active").parent().children(".expand").removeClass("fa fa-plus").addClass("fa fa-minus open"),a("."+s+" li a.active").parent().children("ul").css("display","block")})}}(jQuery);